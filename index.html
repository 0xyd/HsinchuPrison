<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<style type="text/css">
		body { margin: 0px; }
		html, body { height: 100%; }
		#EXPAREA { width: 800px; padding: 10px 0px; height: 100%; box-sizing: border-box;}
		#EXPAREA, #INDEX { margin: 0px auto; }
	</style>
</head>
<body>
	<div id="EXPAREA">
		<!--[if !IE]><!-->
		<style type="text/css">
			/*article * { box-sizing: border-box; }*/
			#CAROUSEL * { box-sizing: border-box; }
			.head, .foot { 
				height: 50px; 
				width: 100%; 
				margin: 0px auto; 
				padding: 0px 10px;
				border-radius: 10px;
				background: linear-gradient(0deg, rgb(192, 0, 0), rgb(216, 33,33));
			}
			.headwrapper, .headwrapper .item .btn, 
			.footwrapper, .footwrapper .item .btn
			{ height: 100%; cursor: pointer; }
			.headwrapper, .footwrapper { margin: 0px auto; }
			.head .item, .foot .item { 
				width: calc(100%/5);
				height: 100%; 
				display: inline-block; 
				border-right: 1px solid #4D4D4D;
				float: left;
			}
			.head .item:hover,
			.foot .item:hover {
				background-color: rgb(216, 33, 33);
			}
			.head .item:last-child, .foot .item:last-child { border-right: none; }
			.head .item img, .foot .item img { display: block; margin: 13px auto; }
			.head .item img:hover, .foot .item img:hover { margin: 14px auto 13px; }
			#CAROUSEL { overflow: hidden; }
			#CAROUSEL .pony { 
				position: absolute; 
				display: inline-block; 
				background-color: #fdfdfd; 
			}
			#INDEX { left: 0%; }
			#ORIGIN_DISPLAY { left: 100%; }
			#INTRO_DISPLAY { left: 200%; }
			#TRANS_DISPLAY { left: 300%; }
			#ADOPTION_DISPLAY { left: 400%; }
			#PHOTO_DISPLAY { left: 500%; }
			#REVIEW_DISPLAY { left: 600%; }
			#KNOWLEDGE_DISPLAY { left: 700%; }
			#ADOP_STATUS_DISPLAY { left: 800%; }
			#ADOP_HOW_DISPLAY { left: 900%; }
			#NEWS_DISPLAY { left: 1000%; }

			.display-slide { height: 100%; padding: 100px 0px; opacity: 0; }
			.space-slide { height: 100%; }
			.display-slide:first-child { opacity: 1; }

			span.ver-helper { height: 100%; }
			span.ver-helper,
			.imagewrapper--ver-mid 
			{ display: inline-block; vertical-align: middle; }

			img.central { display: block; margin: 0px auto; }

			.b12-col-md-12, .b12-col-md-11, .b12-col-md-10, 
			.b12-col-md-9, .b12-col-md-8, .b12-col-md-7, 
			.b12-col-md-6, .b12-col-md-5, .b12-col-md-4, 
			.b12-col-md-3,.b12-col-md-2, .b12-col-md-1,
			.b15-col-md-13, .b15-col-md-12, .b15-col-md-11, 
			.b15-col-md-10, .b15-col-md-9,
			.b15-col-md-8, .b15-col-md-7,
			.b15-col-md-6, .b15-col-md-5,
			.b15-col-md-4, .b15-col-md-3,
			.b15-col-md-2, .b15-col-md-1,
			.b12-row-md-12, .b12-row-md-11, 
			.b12-row-md-10, .b12-row-md-9, 
			.b12-row-md-8, .b12-row-md-7, 
			.b12-row-md-6, .b12-row-md-5,
			.b12-row-md-4, .b12-row-md-3, 
			.b12-row-md-2, .b12-row-md-1
			{ display: inline-block; position: relative; float: left; }

			.b12-col-md-12 { width: 100%; }
			.b12-col-md-10 { width: calc(100%/6*5); }
			.b12-col-md-9 { width: calc(100%/4*3); }
			.b12-col-md-8 { width: calc(100%/3*2); }
			.b12-col-md-6 { width: 50%; }
			.b12-col-md-4 { width: calc(100%/3); }
			.b12-col-md-3 { width: 25%; }
			.b12-col-md-2 { width: calc(100%/6); }
			.b12-col-md-1 { width: calc(100%/12); }

			.b12-col-md-offset-12 { left: 100%; }
			.b12-col-md-offset-10 { left: calc(100%/6*5); }
			.b12-col-md-offset-9 { left: calc(100%/4*3); }
			.b12-col-md-offset-8 { left: calc(100%/3*2); }
			.b12-col-md-offset-6 { left: 50%; }
			.b12-col-md-offset-4 { left: calc(100%/3); }
			.b12-col-md-offset-3 { left: 25%; }
			.b12-col-md-offset-2 { left: calc(100%/6); }
			.b12-col-md-offset-1 { left: calc(100%/12); }

			.b15-col-md-13 { width: calc(100%/15*13); }
			.b15-col-md-12 { width: calc(100%/5*4); }
			.b15-col-md-11 { width: calc(100%/15*11); }
			.b15-col-md-10 { width: calc(100%/3*2); }
			.b15-col-md-9 { width: calc(100%/5*3); }
			.b15-col-md-8 { width: calc(100%/15*8); }
			.b15-col-md-7 { width: calc(100%/15*7); }
			.b15-col-md-6 { width: calc(100%/5*2); }
			.b15-col-md-5 { width: calc(100%/3); }
			.b15-col-md-4 { width: calc(100%/15*4); }
			.b15-col-md-3 { width: calc(100%/5); }



			/*.row,
			.b12-row-md-12, .b12-row-md-11, .b12-row-md-10,
			.b12-row-md-9, .b12-row-md-8, .b12-row-md-7,
			.b12-row-md-6, .b12-row-md-5, .b12-row-md-4,
			.b12-row-md-3, .b12-row-md-2, .b15-col-md-1 
			{ width: 100%; }*/

			.b12-row-md-12 { height: calc(100%); }
			.b12-row-md-11 { height: calc(100%/12*11); }
			.b12-row-md-10 { height: calc(100%/6*5); }
			.b12-row-md-9 { height: calc(100%/4*3); }
			.b12-row-md-8 { height: calc(100%/3*2); }
			.b12-row-md-7 { height: calc(100%/12*7); }
			.b12-row-md-6 { height: calc(100%/2); }
			.b12-row-md-5 { height: calc(100%/12*5); }
			.b12-row-md-4 { height: calc(100%/3); }
			.b12-row-md-3 { height: calc(100%/4); }
			.b12-row-md-2 { height: calc(100%/6); }
			.b12-row-md-1 { height: calc(100%/12); }

		</style>
		<!--<![endif]-->
		<div id="CAROUSEL" style="height: 100%; width: 100%; position: relative; z-index: 0;">
			<div id="INDEX" class="pony current" style="height: 100%; width: 100%; z-index: 0;">
				<div class="head" >
					<div class="headwrapper">
						<div id="ORIGIN" class="item">
							<a class="btn"><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/緣由.png" /></a>
						</div>
						<div id="INTRO" class="item">
							<a class="btn"><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/簡介.png" /></a>
						</div>
						<div id="TRANS" class="item">
							<a class="btn"><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/蛻變.png" /></a>
						</div>
						<div id="ADOPTION" class="item">
							<a class="btn"><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/犬隻領養.png" /></a>
						</div>
						<div id="PHOTO" class="item">
							<a class="btn"><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/剪影.png" /></a>
						</div>
					</div>
				</div>
				<DIV style="BACKGROUND: 
							url(http://www.moj.gov.tw/site/moj/public/MMO/scp/home.png) 
							no-repeat 50% 60%; 
							height: 600px;" 
							id="MEDIA_PLAYER"><BR>
				</DIV>
				<div class="foot">
					<div class="footwrapper">
						<div id="REVIEW" class="item">
							<a class='btn'><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/訓練心得.png" /></a>
						</div>
						<div id="KNOWLEDGE" class="item">
						<a class='btn'><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/養狗常識.png" /></a>
						</div>
						<div id="ADOP_STATUS" class="item">
							<a class='btn'><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/領養狀況.png" /></a>
						</div>
						<div id="ADOP_HOW" class="item">
							<a class='btn'><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/如何領養.png" /></a>
						</div>
						<div id="NEWS" class="item">
							<a class='btn'><img src="http://www.moj.gov.tw/site/moj/public/MMO/scp/犬訓報導.png" /></a>
						</div>
					</div>
				</div>
			</div>
			<div id="ORIGIN_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>origin testing</p>
			</div>
			<div id="INTRO_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<div class='b12-col-md-12 display-slide' style="">
					<div class='b12-col-md-6 ' style='height: 100%;'>
						<span class='ver-helper'></span>
						<div class='imagewrapper--ver-mid'>
							<img class="central" src='./src/簡介一左側照片.png'/>
						</div>
					</div>
					<div class='b12-col-md-6' style="height: 100%;">
						<div class="b12-col-md-12" style="height: 20%;">
							<span class="ver-helper"></span>
							<div style="display: inline-block; margin-left: 30px;">
								<img src="./src/簡介一簡介字體.png" />
							</div>
						</div>						
						<div class="b12-col-md-12" style="height: 65%;">
							<div class="b12-col-md-12">
								<span class="ver-helper"></span>
								<div class="b12-col-md-12">
									<img class="central" src="./src/簡介一右側狗像.png" />
								</div>
							</div>
							<div class="b12-col-md-12">
								<span class="ver-helper"></span>
								<div class="b12-col-md-12">
									<img class="central" src="./src/犬訓橫向合體.png" />
								</div>
							</div>
						</div>
						<div class="b12-col-md-12 b12-row-md-2" style="height: 15%;">
							<span class="ver-helper"></span>
							<div class="b12-col-md-12">
								<img class="central" src="./src/法務部矯正署新竹監獄.png" />
							</div>
						</div>
					</div>
				</div>
				<div class="b12-col-md-12 space-slide"></div>
				<div class="b12-col-md-12 display-slide" style="padding: 165px 0px;">
					<div class="b15-col-md-8" style="height: 100%;">
						<div style="height: 100%; margin: 0px auto;">
							<span class="ver-helper"></span>
							<div class="imagewrapper--ver-mid">
								<img class="central" src="./src/簡介二相片.png" />
							</div>
						</div>
					</div>
					<div class="b15-col-md-7" style="height: 100%;">
						<div class="b12-row-md-3 b12-col-md-12">
							<span class="ver-helper"></span>
							<div class="imagewrapper--ver-mid b12-col-md-12">
								<img class="central" src="./src/期許-web.png" />
							</div>
						</div>
						<div class="b12-row-md-2 b12-col-md-offset-2 b12-col-md-10">
							<img src="./src/重拾收容人信心.png" />
						</div>
						<div class="b12-row-md-2 b12-col-md-offset-2 b12-col-md-10">
							<img src="./src/流浪狗不再流浪.png" />
						</div>
						<div class="b12-col-md-offset-1 b12-col-md-11 b12-row-md-5">
							<span class="ver-helper"></span>
							<div class="imagewrapper--ver-mid">
								<img class="central" src="./src/法務部矯正署新竹監獄.png" />
							</div>
						</div>
					</div>
				</div>
				<div class="b12-col-md-12 space-slide"></div>
				<div class="b12-col-md-12 display-slide">
					<div class="b12-col-md-6 b12-row-md-12">
						<div class="b12-row-md-7 b12-col-md-12">
							<span class="ver-helper"></span>
							<div class="imagewrapper--ver-mid b12-col-md-12">
								<img src="./src/訓練師照.png" />
							</div>
						</div>
						<div class="b12-row-md-5  b12-col-md-12">
							<div class="b12-row-md-9 b12-col-md-12" 
								 style="text-align:center;">
								<span class="ver-helper"></span>
								<div class="imagewrapper--ver-mid">
									<img src="./src/陳鉅龍.png" />
								</div>
							</div>
							<div class="b12-row-md-1" style="left: 50%;">
								<span class="ver-helper"></span>
								<div class="imagewrapper--ver-mid">
									<img src="./src/昇旺犬訓訓練師.png" />
								</div>
							</div>
						</div>
					</div>
					<div class="b12-col-md-6 b12-row-md-12">
						<div class="b12-col-md-12 b12-row-md-2" 
							 style="text-align:center;">
							<span class="ver-helper"></span>
							<div class="imagewrapper--ver-mid">
								<img src="./src/訓練師之言.png" />
							</div>
						</div>
						<div class="b12-col-md-12 b12-row-md-10" 
							 style="overflow-x:hidden; overflow-y: scroll;">
							<img class="central" src="./src/訓練師之言內容.png" />
						</div>
					</div>
				</div>
			</div>
			<div id="TRANS_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>trans testing</p>
			</div>
			<div id="ADOPTION_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>adoption testing</p>
			</div>
			<div id="PHOTO_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>photo testing</p>
			</div>
			<div id="REVIEW_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>review testing</p>
			</div>
			<div id="KNOWLEDGE_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>knowledge testing</p>
			</div>
			<div id="ADOP_STATUS_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>adop status testing</p>
			</div>
			<div id="ADOP_HOW_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>adop how testing</p>
			</div>
			<div id="NEWS_DISPLAY" class="pony" style="height: 100%; width: 100%; z-index:0;">
				<p>new testing</p>
			</div>
		</div>
		<script type="text/javascript" src="./lib/jquery-1.11.3.min.js"></script>
		<script type="text/javascript">
			
			Number.prototype.divide = function(divisor) {
				return {
					q: Math.floor(this/divisor),
					r: this % divisor
				}
			}

			var carouselClass = function() {

				this.$CAROUSEL = $('#CAROUSEL');
				this.children = this.$CAROUSEL.children();
				this.grandChidren = null;
				this.endIndex = 0;
				this.startIndex = this.$CAROUSEL.find('.current').index();
				this.delta = parseInt(this.$CAROUSEL.css('width').replace('px', ''));
				this.displacement = this.delta * (this.endIndex - this.startIndex) * -1;
			}

			carouselClass.prototype.switchSlide = function(clickedObj) {

				var slide = '#'+clickedObj.id+'_DISPLAY';

				this._updateEndIdx(slide)
				this._calcDisplacement();

				// Activate the carousel motion.
				for (var i=0; i < this.children.length; i++) {

					var originLeft = 
						parseInt($(this.children[i]).css('left').replace('px', ''));
					
					$(this.children[i]).animate(
						// 17 is for hidding rigt scroll bar
						{ left: originLeft + this.displacement + 17}, 
						800, 
						function() {}
					);
				}

			}

			carouselClass.prototype._updateEndIdx = function(obj) {
				this.endIndex = 
					this.$CAROUSEL
						.children(obj).index();
			}

			carouselClass.prototype._calcDisplacement = function() {
				this.displacement = 
					this.delta * (this.endIndex - this.startIndex) * -1;
			}

			carouselClass.prototype._listChildren = function(parent) {
				console.log($(parent).children());
			}

			carouselClass.prototype.gradDisplay = function(clickedObj) {

				var $player = $('#'+clickedObj.id+'_DISPLAY'),
					parent = $player.parent(),
					slides = $player.children('.display-slide'),
					slideHeight = $(slides[0]).innerHeight(),
					gradient = 1/slideHeight;
				
				// Activate the scroll in y-direction
				parent.css('overflow', 'hidden');
				$player.css({ overflowX: 'hidden', overflowY: 'auto' });

				var prev = 0,
					current = 0;
				
				$player.scroll(
					function() {
						current = $player.scrollTop();
						var delta = (current-prev),
							index = parseInt(current/slideHeight),
							sIndex = index.divide(2).q,  // Index of slides
							$cSlide = $(slides[sIndex]),
							$nxtSlide = $(slides[sIndex+1]);

						if ( delta > 0 ) {

							// User scrolls the space area
							if (index.divide(2).r !== 0) {
								
								$nxtSlide
									.css('opacity', function() {
										var opacityVal = 
											parseFloat($nxtSlide.css('opacity')) +
												Math.abs(delta) * gradient;

										return opacityVal > 1 ? 1: opacityVal

									});

							// User scrolls through the slide parts
							} else if (index.divide(2).r === 0) {
								
								$cSlide
									.css('opacity', function() {
										var opacityVal = 
											parseFloat($cSlide.css('opacity')) -
												delta * gradient;

										return opacityVal < 0? 0: opacityVal
									});
							}

						} else if ( delta < 0 ) {

							if (index.divide(2).r !== 0) {
								
								$nxtSlide
									.css('opacity', function() {
										var opacityVal = 
											parseFloat($nxtSlide.css('opacity')) -
												Math.abs(delta) * gradient;
										
										return opacityVal < 0? 0: opacityVal
									});
							} else if (index.divide(2).r === 0) {
								
								$cSlide
									.css('opacity', function() {
										var opacityVal = 
											parseFloat($cSlide.css('opacity')) +
												Math.abs(delta) * gradient;

										return opacityVal > 1 ? 1: opacityVal
									});
							}
						}
						prev = current;		
					});
			}

			var carousel = new carouselClass();

			$('.head .item')
				.on('click', function(e) {
					carousel.switchSlide(this);
					carousel.gradDisplay(this);
				});
			$('.foot .item')
				.on('click', function(e) {
					carousel.switchSlide(this);
					carousel.gradDisplay(this);
				});

		</script>
		<!--[if IE]>
		<script type="text/javascript">
			var article = document.querySelector('#article'),
					head = document.querySelector('.head'),
					headWrapper = document.querySelector('.headwrapper'),
					foot = document.querySelector('.foot'),
					articleAll = article.getElementsByTagName('*');

			for ( var i=0; i < articleAll.length; i++ ) articleAll[i].style.boxSizing = 'border-box';

			head.style.height = '50px';
			head.style.width = '100%';
			head.style.margin = '0px auto';
			head.style.padding = '0px 10px';
			head.style.position = 'relative';
			head.style.zIndex = '0';
			
			head.style.behavior = 'url(./lib/PIE.htc)';
			head.style.borderRadius = '10px';
			/* IE6-9 */
			head.style.filter = 
				'progid:DXImageTransform.Microsoft.Gradient(startColorstr="#c00000", endColorstr="#d82121", GradientType=1 )';

			foot.style.height = '50px';
			foot.style.width = '100%';
			foot.style.margin = '0px auto';
			foot.style.padding = '0px 10px';
			foot.style.borderRadius = '10px';
			foot.style.backgorund = 'linear-gradient(0deg, rgb(192, 0, 0), rgb(216, 33,33))';

			var headItems = document.querySelectorAll('.head .item'),
					footItems = document.querySelectorAll('foot .item');

			for ( var i=0; i < headItems.length; i++ ) {
				var headItem = headItems[i];
				headItem.style.display = 'inline-block';
				headItem.style.width = '20%';
				headItem.style.height = '100%';
				headItem.style.borderRight = '1px solid #4D4D4D';
				headItem.style.float = 'left';
				if ( i === headItems.length-1 ) headItem.style.borderRight = 'none';
			}
			console.log(headItems);

		</script>
		<![endif]-->
	</div>
</body>
</html>